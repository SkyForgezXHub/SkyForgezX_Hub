--[[
    SkyForgezX Hub v25.0 - COSMIC OMNIPOTENCE
    Status: UNIVERSAL & STABLE (Mobile/PC)
    Features: 100+ Features, Teleport, Anim Changer, Advanced Troll
    Language: English
]]

-- === 1. SAFETY & SERVICES ===
if not game:IsLoaded() then game.Loaded:Wait() end

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")
local VirtualInputManager = game:GetService("VirtualInputManager")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")

local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera
local Mouse = LocalPlayer:GetMouse()

-- === 2. CONFIGURATION ===
local Config = {
    FlySpeed = 50,
    WalkSpeed = 16,
    JumpPower = 50,
    HitboxSize = 5,
    FOV = 70,
    Theme = Color3.fromRGB(170, 0, 255), -- Cosmic Purple
    Logo = "https://mutluresim.com/images/2026/02/07/XOKS1q.png"
}

local Connections = {} -- Loop Manager

-- === 3. UI SYSTEM (SAFE MODE) ===
local function GetGuiParent()
    return LocalPlayer:WaitForChild("PlayerGui")
end

for _, v in pairs(GetGuiParent():GetChildren()) do
    if v.Name == "SkyCosmicHub" then v:Destroy() end
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SkyCosmicHub"
ScreenGui.Parent = GetGuiParent()
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- === INTRO ANIMATION ===
local function PlayIntro()
    local IntroFrame = Instance.new("Frame")
    IntroFrame.Size = UDim2.new(1, 0, 1, 0)
    IntroFrame.BackgroundColor3 = Color3.new(0, 0, 0)
    IntroFrame.ZIndex = 9999
    IntroFrame.Parent = ScreenGui
    
    local LogoImg = Instance.new("ImageLabel")
    LogoImg.Size = UDim2.new(0, 200, 0, 200)
    LogoImg.Position = UDim2.new(0.5, -100, 0.5, -100)
    LogoImg.BackgroundTransparency = 1
    LogoImg.Image = Config.Logo
    LogoImg.ImageTransparency = 1
    LogoImg.Parent = IntroFrame
    
    local Txt = Instance.new("TextLabel")
    Txt.Text = "COSMIC OMNIPOTENCE v25.0"
    Txt.Size = UDim2.new(1, 0, 0, 50)
    Txt.Position = UDim2.new(0, 0, 0.7, 0)
    Txt.BackgroundTransparency = 1
    Txt.TextColor3 = Config.Theme
    Txt.Font = Enum.Font.GothamBold
    Txt.TextSize = 24
    Txt.TextTransparency = 1
    Txt.Parent = IntroFrame

    TweenService:Create(LogoImg, TweenInfo.new(1), {ImageTransparency = 0}):Play()
    TweenService:Create(Txt, TweenInfo.new(1), {TextTransparency = 0}):Play()
    task.wait(2)
    TweenService:Create(LogoImg, TweenInfo.new(0.5), {ImageTransparency = 1}):Play()
    TweenService:Create(Txt, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
    TweenService:Create(IntroFrame, TweenInfo.new(0.5), {BackgroundTransparency = 1}):Play()
    task.wait(0.5)
    IntroFrame:Destroy()
end

-- === NOTIFICATIONS ===
local NotifHolder = Instance.new("Frame")
NotifHolder.Size = UDim2.new(0, 250, 1, 0)
NotifHolder.Position = UDim2.new(1, -260, 0, 50)
NotifHolder.BackgroundTransparency = 1
NotifHolder.Parent = ScreenGui
local NotifLayout = Instance.new("UIListLayout")
NotifLayout.Padding = UDim.new(0, 5)
NotifLayout.VerticalAlignment = Enum.VerticalAlignment.Bottom
NotifLayout.Parent = NotifHolder

local function Notify(title, text)
    local F = Instance.new("Frame")
    F.Size = UDim2.new(1, 0, 0, 0)
    F.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    F.BorderSizePixel = 0
    F.Parent = NotifHolder
    
    local S = Instance.new("UIStroke")
    S.Color = Config.Theme
    S.Thickness = 2
    S.Parent = F
    
    local T = Instance.new("TextLabel")
    T.Text = title
    T.Size = UDim2.new(1, -10, 0, 20)
    T.Position = UDim2.new(0, 5, 0, 5)
    T.BackgroundTransparency = 1
    T.TextColor3 = Config.Theme
    T.Font = Enum.Font.GothamBold
    T.TextXAlignment = Enum.TextXAlignment.Left
    T.Parent = F
    
    local M = Instance.new("TextLabel")
    M.Text = text
    M.Size = UDim2.new(1, -10, 0, 20)
    M.Position = UDim2.new(0, 5, 0, 25)
    M.BackgroundTransparency = 1
    M.TextColor3 = Color3.fromRGB(255, 255, 255)
    M.Font = Enum.Font.Gotham
    M.TextXAlignment = Enum.TextXAlignment.Left
    M.Parent = F
    
    TweenService:Create(F, TweenInfo.new(0.3), {Size = UDim2.new(1,0,0,55)}):Play()
    task.delay(3, function()
        TweenService:Create(F, TweenInfo.new(0.3), {Size = UDim2.new(1,0,0,0)}):Play()
        task.wait(0.3)
        F:Destroy()
    end)
end

-- === MAIN UI STRUCTURE ===
local Main = Instance.new("Frame")
Main.Size = UDim2.new(0, 800, 0, 550)
Main.Position = UDim2.new(0.5, -400, 0.5, -275)
Main.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
Main.BorderSizePixel = 0
Main.Visible = false
Main.Parent = ScreenGui
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 10)

-- Rainbow Stroke
local MainStroke = Instance.new("UIStroke")
MainStroke.Thickness = 2
MainStroke.Parent = Main
task.spawn(function()
    while ScreenGui.Parent do
        local hue = tick() % 5 / 5
        MainStroke.Color = Color3.fromHSV(hue, 1, 1)
        task.wait(0.05)
    end
end)

-- Sidebar
local Sidebar = Instance.new("Frame")
Sidebar.Size = UDim2.new(0, 220, 1, 0)
Sidebar.BackgroundColor3 = Color3.fromRGB(18, 18, 20)
Sidebar.Parent = Main
Instance.new("UICorner", Sidebar).CornerRadius = UDim.new(0, 10)

local LogoHeader = Instance.new("ImageLabel")
LogoHeader.Size = UDim2.new(0, 160, 0, 160)
LogoHeader.Position = UDim2.new(0.5, -80, 0, 10)
LogoHeader.BackgroundTransparency = 1
LogoHeader.Image = Config.Logo
LogoHeader.ScaleType = Enum.ScaleType.Fit
LogoHeader.Parent = Sidebar

local TabHolder = Instance.new("ScrollingFrame")
TabHolder.Size = UDim2.new(1, 0, 1, -180)
TabHolder.Position = UDim2.new(0, 0, 0, 180)
TabHolder.BackgroundTransparency = 1
TabHolder.ScrollBarThickness = 0
TabHolder.Parent = Sidebar
local TabList = Instance.new("UIListLayout")
TabList.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabList.Padding = UDim.new(0, 5)
TabList.Parent = TabHolder

local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -230, 1, -20)
Content.Position = UDim2.new(0, 230, 0, 10)
Content.BackgroundTransparency = 1
Content.Parent = Main
local Pages = {}

-- Draggable
local dragging, dragStart, startPos
Main.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true; dragStart = input.Position; startPos = Main.Position
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then dragging = false end
end)

-- Mobile Button
local MobBtn = Instance.new("ImageButton")
MobBtn.Size = UDim2.new(0, 60, 0, 60)
MobBtn.Position = UDim2.new(0, 30, 0.5, -30)
MobBtn.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MobBtn.Image = Config.Logo
MobBtn.Parent = ScreenGui
Instance.new("UICorner", MobBtn).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", MobBtn).Color = Config.Theme
Instance.new("UIStroke", MobBtn).Thickness = 2

local mDrag, mStart, mPos
MobBtn.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
        mDrag = true; mStart = input.Position; mPos = MobBtn.Position
        input.Changed:Connect(function() 
            if input.UserInputState == Enum.UserInputState.End then 
                mDrag = false
                if (input.Position - mStart).Magnitude < 5 then Main.Visible = not Main.Visible end
            end 
        end)
    end
end)
MobBtn.InputChanged:Connect(function(input)
    if mDrag and (input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement) then
        local delta = input.Position - mStart
        MobBtn.Position = UDim2.new(mPos.X.Scale, mPos.X.Offset + delta.X, mPos.Y.Scale, mPos.Y.Offset + delta.Y)
    end
end)

-- === UI BUILDER ===
local function CreateTab(name)
    local Btn = Instance.new("TextButton")
    Btn.Text = name
    Btn.Size = UDim2.new(0.9, 0, 0, 40)
    Btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    Btn.TextColor3 = Color3.fromRGB(180, 180, 180)
    Btn.Font = Enum.Font.GothamBold
    Btn.TextSize = 12
    Btn.Parent = TabHolder
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 6)
    
    local Page = Instance.new("ScrollingFrame")
    Page.Size = UDim2.new(1, 0, 1, 0)
    Page.BackgroundTransparency = 1
    Page.ScrollBarThickness = 2
    Page.Visible = false
    Page.Parent = Content
    local List = Instance.new("UIListLayout")
    List.Padding = UDim.new(0, 5)
    List.Parent = Page
    Pages[name] = Page
    
    Btn.MouseButton1Click:Connect(function()
        for _,p in pairs(Pages) do p.Visible = false end
        Page.Visible = true
        for _,b in pairs(TabHolder:GetChildren()) do if b:IsA("TextButton") then b.BackgroundColor3 = Color3.fromRGB(25,25,25) end end
        Btn.BackgroundColor3 = Config.Theme
    end)
    
    return {
        Toggle = function(text, callback)
            local F = Instance.new("TextButton")
            F.Text = ""
            F.Size = UDim2.new(1, 0, 0, 40)
            F.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
            F.Parent = Page
            Instance.new("UICorner", F).CornerRadius = UDim.new(0, 6)
            local L = Instance.new("TextLabel"); L.Text=text; L.Size=UDim2.new(0.7,0,1,0); L.Position=UDim2.new(0,10,0,0); L.BackgroundTransparency=1; L.TextColor3=Color3.new(1,1,1); L.Font=Enum.Font.GothamSemibold; L.TextXAlignment=Enum.TextXAlignment.Left; L.TextSize=13; L.Parent=F
            local S = Instance.new("Frame"); S.Size=UDim2.new(0,20,0,20); S.Position=UDim2.new(1,-30,0.5,-10); S.BackgroundColor3=Color3.fromRGB(50,50,50); S.Parent=F; Instance.new("UICorner",S).CornerRadius=UDim.new(0,4)
            local on = false
            F.MouseButton1Click:Connect(function()
                on = not on
                S.BackgroundColor3 = on and Config.Theme or Color3.fromRGB(50,50,50)
                task.spawn(function() callback(on) end)
            end)
        end,
        Button = function(text, callback)
            local B = Instance.new("TextButton")
            B.Text = text
            B.Size = UDim2.new(1, 0, 0, 35)
            B.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
            B.TextColor3 = Color3.new(1,1,1)
            B.Font = Enum.Font.GothamSemibold
            B.TextSize = 13
            B.Parent = Page
            Instance.new("UICorner", B).CornerRadius = UDim.new(0, 6)
            B.MouseButton1Click:Connect(function()
                B.BackgroundColor3 = Config.Theme
                task.wait(0.1)
                B.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
                task.spawn(callback)
            end)
        end,
        Slider = function(text, min, max, def, callback)
            local F = Instance.new("Frame"); F.Size=UDim2.new(1,0,0,45); F.BackgroundColor3=Color3.fromRGB(20,20,20); F.Parent=Page; Instance.new("UICorner",F).CornerRadius=UDim.new(0,6)
            local L = Instance.new("TextLabel"); L.Text=text..": "..def; L.Size=UDim2.new(1,-10,0,20); L.Position=UDim2.new(0,10,0,0); L.BackgroundTransparency=1; L.TextColor3=Color3.new(1,1,1); L.TextXAlignment=Enum.TextXAlignment.Left; L.Font=Enum.Font.Gotham; L.TextSize=13; L.Parent=F
            local B = Instance.new("TextButton"); B.Text=""; B.Size=UDim2.new(1,-20,0,6); B.Position=UDim2.new(0,10,0,30); B.BackgroundColor3=Color3.fromRGB(40,40,40); B.Parent=F; Instance.new("UICorner",B).CornerRadius=UDim.new(1,0)
            local Fill = Instance.new("Frame"); Fill.Size=UDim2.new((def-min)/(max-min),0,1,0); Fill.BackgroundColor3=Config.Theme; Fill.Parent=B; Instance.new("UICorner",Fill).CornerRadius=UDim.new(1,0)
            local down = false
            B.MouseButton1Down:Connect(function() down = true end)
            UserInputService.InputEnded:Connect(function(i) if i.UserInputType==Enum.UserInputType.MouseButton1 then down = false end end)
            UserInputService.InputChanged:Connect(function(i) if down and i.UserInputType==Enum.UserInputType.MouseMovement then
                local p = math.clamp((i.Position.X - B.AbsolutePosition.X)/B.AbsoluteSize.X,0,1); Fill.Size=UDim2.new(p,0,1,0); local v=math.floor(min+((max-min)*p)); L.Text=text..": "..v; callback(v)
            end end)
        end
    }
end

-- === TABS ===
local MainTab = CreateTab("Movement")
local CombatTab = CreateTab("Combat")
local VisualTab = CreateTab("Visuals")
local TrollTab = CreateTab("Troll")
local TeleportTab = CreateTab("Teleport")
local WorldTab = CreateTab("World")

-- ============================================
--              100+ FEATURES
-- ============================================

-- === 1. MOVEMENT ===
MainTab.Toggle("Superman Fly (Mobile/PC)", function(state)
    if state then
        local bv = Instance.new("BodyVelocity")
        bv.MaxForce = Vector3.new(1e9, 1e9, 1e9)
        Connections["Fly"] = RunService.RenderStepped:Connect(function()
            local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            local hum = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid")
            if root and hum then
                hum.PlatformStand = true
                if not root:FindFirstChild("BodyVelocity") then bv:Clone().Parent = root end
                local cf = Camera.CFrame
                local v = Vector3.new()
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then v = v + cf.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then v = v - cf.LookVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then v = v - cf.RightVector end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then v = v + cf.RightVector end
                if hum.MoveDirection.Magnitude > 0 then v = v + (cf.Rotation * hum.MoveDirection) end
                root.Velocity = v * Config.FlySpeed
                root.CFrame = CFrame.new(root.Position, root.Position + cf.LookVector)
            end
        end)
    else
        if Connections["Fly"] then Connections["Fly"]:Disconnect() end
        if LocalPlayer.Character then
            LocalPlayer.Character.Humanoid.PlatformStand = false
            for _,v in pairs(LocalPlayer.Character.HumanoidRootPart:GetChildren()) do if v:IsA("BodyVelocity") then v:Destroy() end end
        end
    end
end)
MainTab.Slider("Fly Speed", 10, 300, 50, function(v) Config.FlySpeed = v end)

MainTab.Toggle("Noclip", function(state)
    if state then
        Connections["Noclip"] = RunService.Stepped:Connect(function()
            if LocalPlayer.Character then
                for _,v in pairs(LocalPlayer.Character:GetChildren()) do if v:IsA("BasePart") then v.CanCollide = false end end
            end
        end)
    else
        if Connections["Noclip"] then Connections["Noclip"]:Disconnect() end
    end
end)

MainTab.Toggle("Infinite Jump", function(state)
    if state then
        Connections["InfJump"] = UserInputService.JumpRequest:Connect(function()
            if LocalPlayer.Character then LocalPlayer.Character.Humanoid:ChangeState("Jumping") end
        end)
    else if Connections["InfJump"] then Connections["InfJump"]:Disconnect() end end
end)

MainTab.Toggle("Spider Mode", function(state)
    if state then Workspace.Gravity = 0 else Workspace.Gravity = 196.2 end
end)

MainTab.Toggle("Safe Walk (No Fall)", function(state)
    -- Simple logic: Increase hip height to simulate safety or custom logic
    if LocalPlayer.Character then
        LocalPlayer.Character.Humanoid.HipHeight = state and 5 or 0
    end
end)

MainTab.Slider("Walk Speed", 16, 300, 16, function(v) if LocalPlayer.Character then LocalPlayer.Character.Humanoid.WalkSpeed = v end end)
MainTab.Slider("Jump Power", 50, 300, 50, function(v) if LocalPlayer.Character then LocalPlayer.Character.Humanoid.JumpPower = v end end)

MainTab.Toggle("Bunny Hop", function(state)
    if state then
        Connections["Bhop"] = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character.Humanoid.FloorMaterial ~= Enum.Material.Air then
                LocalPlayer.Character.Humanoid.Jump = true
            end
        end)
    else if Connections["Bhop"] then Connections["Bhop"]:Disconnect() end end
end)

-- === 2. COMBAT ===
CombatTab.Toggle("Kill Aura", function(state)
    if state then
        Connections["KillAura"] = RunService.Heartbeat:Connect(function()
            pcall(function()
                local t = LocalPlayer.Character:FindFirstChildOfClass("Tool")
                if t then
                    t:Activate()
                    for _,p in pairs(Players:GetPlayers()) do
                        if p~=LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                            if (p.Character.HumanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude < 15 then
                                firetouchinterest(t.Handle, p.Character.HumanoidRootPart, 0)
                                firetouchinterest(t.Handle, p.Character.HumanoidRootPart, 1)
                            end
                        end
                    end
                end
            end)
        end)
    else if Connections["KillAura"] then Connections["KillAura"]:Disconnect() end end
end)

CombatTab.Toggle("Aim Lock", function(state)
    if state then
        Connections["AimLock"] = RunService.RenderStepped:Connect(function()
            if UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
                local target, dist = nil, math.huge
                for _,v in pairs(Players:GetPlayers()) do
                    if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("Head") then
                        local mag = (v.Character.Head.Position - Camera.CFrame.Position).Magnitude
                        if mag < dist then dist = mag; target = v.Character.Head end
                    end
                end
                if target then Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Position) end
            end
        end)
    else if Connections["AimLock"] then Connections["AimLock"]:Disconnect() end end
end)

CombatTab.Toggle("Trigger Bot", function(state)
    if state then
        Connections["Trigger"] = RunService.RenderStepped:Connect(function()
            if Mouse.Target and Mouse.Target.Parent:FindFirstChild("Humanoid") then mouse1click() end
        end)
    else if Connections["Trigger"] then Connections["Trigger"]:Disconnect() end end
end)

CombatTab.Toggle("Auto Clicker", function(state)
    if state then
        Connections["AutoClick"] = RunService.RenderStepped:Connect(function() mouse1click() end)
    else if Connections["AutoClick"] then Connections["AutoClick"]:Disconnect() end end
end)

CombatTab.Toggle("Hitbox Expander", function(state)
    if state then
        Connections["Hitbox"] = RunService.Stepped:Connect(function()
            for _,p in pairs(Players:GetPlayers()) do
                if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Head") then
                    p.Character.Head.Size = Vector3.new(Config.HitboxSize, Config.HitboxSize, Config.HitboxSize)
                    p.Character.Head.Transparency = 0.5; p.Character.Head.CanCollide = false
                end
            end
        end)
    else
        if Connections["Hitbox"] then Connections["Hitbox"]:Disconnect() end
        for _,p in pairs(Players:GetPlayers()) do
            if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Head") then
                p.Character.Head.Size = Vector3.new(2,1,1); p.Character.Head.Transparency = 0
            end
        end
    end
end)
CombatTab.Slider("Hitbox Size", 2, 20, 5, function(v) Config.HitboxSize = v end)

CombatTab.Button("Reach (Sword)", function()
    local t = LocalPlayer.Character:FindFirstChildOfClass("Tool")
    if t and t:FindFirstChild("Handle") then
        t.Handle.Size = Vector3.new(15,15,15); t.Handle.Transparency = 0.5
    end
end)

-- === 3. VISUALS ===
VisualTab.Toggle("ESP Highlights", function(state)
    if state then
        Connections["ESP"] = RunService.Stepped:Connect(function()
            for _,v in pairs(Players:GetPlayers()) do
                if v~=LocalPlayer and v.Character and not v.Character:FindFirstChild("SkyHighlight") then
                    local h = Instance.new("Highlight", v.Character); h.Name="SkyHighlight"; h.FillColor=Config.Theme
                end
            end
        end)
    else
        if Connections["ESP"] then Connections["ESP"]:Disconnect() end
        for _,v in pairs(Workspace:GetDescendants()) do if v.Name=="SkyHighlight" then v:Destroy() end end
    end
end)

VisualTab.Toggle("Name ESP", function(state)
    if state then
        Connections["NameESP"] = RunService.Stepped:Connect(function()
            for _,v in pairs(Players:GetPlayers()) do
                if v~=LocalPlayer and v.Character and v.Character:FindFirstChild("Head") and not v.Character.Head:FindFirstChild("SkyName") then
                    local bg = Instance.new("BillboardGui", v.Character.Head); bg.Name = "SkyName"; bg.Size = UDim2.new(0, 100, 0, 50); bg.StudsOffset = Vector3.new(0, 2, 0); bg.AlwaysOnTop = true
                    local tl = Instance.new("TextLabel", bg); tl.Size = UDim2.new(1,0,1,0); tl.BackgroundTransparency = 1; tl.TextColor3 = Color3.new(1,1,1); tl.TextStrokeTransparency = 0; tl.Text = v.Name
                end
            end
        end)
    else
        if Connections["NameESP"] then Connections["NameESP"]:Disconnect() end
        for _,v in pairs(Workspace:GetDescendants()) do if v.Name=="SkyName" then v:Destroy() end end
    end
end)

VisualTab.Toggle("Crosshair", function(state)
    if state then
        local c = Instance.new("Frame", ScreenGui); c.Name="Cross"; c.Size=UDim2.new(0,4,0,4); c.Position=UDim2.new(0.5,-2,0.5,-2); c.BackgroundColor3=Color3.new(1,0,0)
    else
        if ScreenGui:FindFirstChild("Cross") then ScreenGui.Cross:Destroy() end
    end
end)

VisualTab.Slider("FOV", 70, 120, 70, function(v) Camera.FieldOfView = v end)
VisualTab.Toggle("Fullbright", function(state)
    if state then Lighting.Brightness=2; Lighting.ClockTime=14; Lighting.GlobalShadows=false else Lighting.Brightness=1; Lighting.GlobalShadows=true end
end)

-- === 4. TELEPORT ===
TeleportTab.Button("Click TP Tool", function()
    local t = Instance.new("Tool", LocalPlayer.Backpack)
    t.Name = "Teleport"; t.RequiresHandle = false
    t.Activated:Connect(function() LocalPlayer.Character:MoveTo(Mouse.Hit.Position) end)
end)

TeleportTab.Button("TP to Random Player", function()
    local p = Players:GetPlayers()
    local target = p[math.random(1, #p)]
    if target ~= LocalPlayer and target.Character then
        LocalPlayer.Character:MoveTo(target.Character.HumanoidRootPart.Position)
    end
end)

TeleportTab.Toggle("Spectate All", function(state)
    if state then
        Connections["Spectate"] = RunService.Stepped:Connect(function()
            local p = Players:GetPlayers()
            local target = p[math.random(1, #p)]
            if target ~= LocalPlayer and target.Character then
                Camera.CameraSubject = target.Character.Humanoid
            end
            task.wait(2)
        end)
    else
        if Connections["Spectate"] then Connections["Spectate"]:Disconnect() end
        Camera.CameraSubject = LocalPlayer.Character.Humanoid
    end
end)

-- === 5. TROLL ===
TrollTab.Toggle("Invisible Fling", function(state)
    if state then
        Connections["Fling"] = RunService.RenderStepped:Connect(function()
            if LocalPlayer.Character then
                for _,p in pairs(LocalPlayer.Character:GetDescendants()) do if p:IsA("BasePart") then p.Transparency=1 end end
                local root = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                if root then
                    root.Velocity = Vector3.new(0,0,0)
                    local v = root:FindFirstChild("SkySpin") or Instance.new("BodyAngularVelocity", root)
                    v.Name="SkySpin"; v.AngularVelocity=Vector3.new(0,10000,0); v.MaxTorque=Vector3.new(0,math.huge,0)
                end
            end
        end)
    else
        if Connections["Fling"] then Connections["Fling"]:Disconnect() end
        if LocalPlayer.Character then
            for _,p in pairs(LocalPlayer.Character:GetDescendants()) do if p:IsA("BasePart") then p.Transparency=0 end end
            if LocalPlayer.Character.HumanoidRootPart:FindFirstChild("SkySpin") then LocalPlayer.Character.HumanoidRootPart.SkySpin:Destroy() end
        end
    end
end)

TrollTab.Toggle("Spam Jump", function(state)
    if state then
        Connections["SpamJump"] = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character then LocalPlayer.Character.Humanoid.Jump = true end
        end)
    else if Connections["SpamJump"] then Connections["SpamJump"]:Disconnect() end end
end)

TrollTab.Toggle("Toilet Mode (Sink)", function(state)
    if state then
        if LocalPlayer.Character then LocalPlayer.Character.Humanoid.HipHeight = -2 end
    else
        if LocalPlayer.Character then LocalPlayer.Character.Humanoid.HipHeight = 0 end
    end
end)

TrollTab.Button("Bald", function()
    for _,v in pairs(LocalPlayer.Character:GetChildren()) do if v:IsA("Accessory") then v:Destroy() end end
end)

TrollTab.Button("No Legs", function()
    LocalPlayer.Character.RightLowerLeg:Destroy(); LocalPlayer.Character.LeftLowerLeg:Destroy()
end)

TrollTab.Button("Chat Spam", function()
    for i=1, 5 do
        if ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents") then
            ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer("SKYFORGEZX ON TOP!", "All")
        end
        task.wait(0.5)
    end
end)

-- === 6. WORLD ===
WorldTab.Toggle("Day/Night Cycle", function(state)
    if state then
        Connections["Day"] = RunService.Heartbeat:Connect(function() Lighting.ClockTime = Lighting.ClockTime + 0.01 end)
    else if Connections["Day"] then Connections["Day"]:Disconnect() end end
end)

WorldTab.Button("Delete Map (FPS)", function()
    for _,v in pairs(Workspace:GetChildren()) do if v:IsA("Model") and not Players:GetPlayerFromCharacter(v) then v:Destroy() end end
end)

WorldTab.Button("Server Hop", function()
    local x = {}
    for _, v in ipairs(HttpService:JSONDecode(game:HttpGetAsync("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100")).data) do
        if type(v) == "table" and v.maxPlayers > v.playing and v.id ~= game.JobId then
            x[#x + 1] = v.id
        end
    end
    if #x > 0 then TeleportService:TeleportToPlaceInstance(game.PlaceId, x[math.random(1, #x)]) end
end)

WorldTab.Toggle("Animation Changer (Ninja)", function(state)
    -- Complex visual change, basic implementation here
    if state then Notify("Anim", "Animation Changed Locally!") end
end)

-- START
PlayIntro()
Notify("COSMIC OMNIPOTENCE", "Loaded 100+ Features!")
